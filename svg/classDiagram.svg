<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 5.0.0 (20220707.1540)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="1770pt" height="1200pt"
 viewBox="0.00 0.00 1770.19 1200.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1196)">
<title>UmlClassDiagram</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1196 1766.19,-1196 1766.19,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="black" points="0,-565.5 0,-850.3 1106.63,-850.3 1106.63,-565.5 0,-565.5"/>
<text text-anchor="middle" x="553.32" y="-833.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="553.32" y="-816.9" font-family="Times,serif" font-size="14.00">ISimpleEscrow</text>
<text text-anchor="middle" x="553.32" y="-800.1" font-family="Times,serif" font-size="14.00">../src/ISimpleEscrow.sol</text>
<polyline fill="none" stroke="black" points="0,-791.9 1106.63,-791.9 "/>
<text text-anchor="start" x="8" y="-775.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="8" y="-758.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;registerDeal(_sellerWallet: address, _amount: uint256, _termsAndConditionsHash: bytes32, _communicationChannelDetails: string, _arbitratorAddress: address, _arbitorCommision: uint256)</text>
<text text-anchor="start" x="8" y="-741.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;transferOwnership(newOwner: address)</text>
<text text-anchor="start" x="8" y="-724.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;withdraw()</text>
<text text-anchor="start" x="8" y="-708.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;refund(_uniqueId: uint256)</text>
<text text-anchor="start" x="8" y="-691.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;appealToArbitrator(_uniqueId: uint256)</text>
<text text-anchor="start" x="8" y="-674.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;closeDealWithoutIssue(_uniqueId: uint256)</text>
<text text-anchor="start" x="8" y="-657.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;closeDealWithArbitrator(_uniqueId: uint256, _award: uint256, _comments: bytes32)</text>
<text text-anchor="start" x="8" y="-640.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="8" y="-624.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; DealRegistered(_uniqueId: uint256, _sellerWallet: address, _arbitratorAddress: address, _buyerAddress: address)</text>
<text text-anchor="start" x="8" y="-607.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; DealStatusChanged(_uniqueId: uint256, _sellerWallet: address, _buyerWallet: address, _arbitratorAddress: address)</text>
<text text-anchor="start" x="8" y="-590.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; DealAppealed(_uniqueId: uint256, _arbitratorAddress: address)</text>
<text text-anchor="start" x="8" y="-573.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OwnershipTransferred(previousOwner: address, newOwner: address)</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="black" points="580.44,-0.5 580.44,-528.5 1762.19,-528.5 1762.19,-0.5 580.44,-0.5"/>
<text text-anchor="middle" x="1171.32" y="-511.9" font-family="Times,serif" font-size="14.00">EscrowCollection</text>
<text text-anchor="middle" x="1171.32" y="-495.1" font-family="Times,serif" font-size="14.00">../src/SimpleEscrow.sol</text>
<polyline fill="none" stroke="black" points="580.44,-486.9 1762.19,-486.9 "/>
<text text-anchor="start" x="588.44" y="-470.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="588.44" y="-453.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;uniqueId: uint256</text>
<text text-anchor="start" x="588.44" y="-436.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;PROTOCOL_COMMISION_BPS: uint16</text>
<text text-anchor="start" x="588.44" y="-419.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;PROTOCOL_BASE_FEE: uint256</text>
<text text-anchor="start" x="588.44" y="-403.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;PROTOCOL_OWNER: address</text>
<text text-anchor="start" x="588.44" y="-386.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;addressBalance: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="588.44" y="-369.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;dealDetailsMap: mapping(uint256=&gt;DealDetails)</text>
<text text-anchor="start" x="588.44" y="-352.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;sellerDealsMap: mapping(address=&gt;mapping(uint256=&gt;uint256))</text>
<text text-anchor="start" x="588.44" y="-335.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;sellerDealCount: mapping(address=&gt;uint256)</text>
<polyline fill="none" stroke="black" points="580.44,-327.7 1762.19,-327.7 "/>
<text text-anchor="start" x="588.44" y="-311.1" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="588.44" y="-294.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateSellerStats(_uniqueId: uint256)</text>
<text text-anchor="start" x="588.44" y="-277.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="588.44" y="-260.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; registerDeal(_sellerWallet: address, _amount: uint256, _termsAndConditionsHash: bytes32, _communicationChannelDetails: string, _arbitratorAddress: address, _arbitorCommision: uint256)</text>
<text text-anchor="start" x="588.44" y="-243.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;transferOwnership(newOwner: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="588.44" y="-227.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;withdraw()</text>
<text text-anchor="start" x="588.44" y="-210.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;refund(_uniqueId: uint256) &lt;&lt;onlyOpenDeal, onlyDealSeller&gt;&gt;</text>
<text text-anchor="start" x="588.44" y="-193.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;appealToArbitrator(_uniqueId: uint256) &lt;&lt;onlyDealBuyer&gt;&gt;</text>
<text text-anchor="start" x="588.44" y="-176.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;closeDealWithoutIssue(_uniqueId: uint256) &lt;&lt;onlyOpenDeal, onlyDealBuyer&gt;&gt;</text>
<text text-anchor="start" x="588.44" y="-159.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;closeDealWithArbitrator(_uniqueId: uint256, _award: uint256, _comments: bytes32) &lt;&lt;onlyDealArbitrator&gt;&gt;</text>
<text text-anchor="start" x="588.44" y="-143.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="588.44" y="-126.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyDealBuyer(_uniqueId: uint256)</text>
<text text-anchor="start" x="588.44" y="-109.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyDealSeller(_uniqueId: uint256)</text>
<text text-anchor="start" x="588.44" y="-92.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyDealArbitrator(_uniqueId: uint256)</text>
<text text-anchor="start" x="588.44" y="-75.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOpenDeal(_uniqueId: uint256)</text>
<text text-anchor="start" x="588.44" y="-59.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOwner()</text>
<text text-anchor="start" x="588.44" y="-42.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(_PROTOCOL_COMMISION_BPS: uint16, _PROTOCOL_BASE_FEE: uint256)</text>
<text text-anchor="start" x="588.44" y="-25.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;calculateMsgValue(_dealAmount: uint256, _arbitratorCommision: uint256): (calculatedMsgValue: uint256)</text>
<text text-anchor="start" x="588.44" y="-8.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;isDealClosed(_uniqueId: uint256): bool</text>
</g>
<!-- 1&#45;&gt;0 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;0</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M802.9,-528.64C793.9,-535.06 784.98,-541.44 776.15,-547.74"/>
<polygon fill="none" stroke="black" points="769.89,-539.31 751.58,-565.29 782.09,-556.4 769.89,-539.31"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="black" points="1030.9,-1041.1 1030.9,-1191.5 1255.73,-1191.5 1255.73,-1041.1 1030.9,-1041.1"/>
<text text-anchor="middle" x="1143.32" y="-1174.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Enum&gt;&gt;</text>
<text text-anchor="middle" x="1143.32" y="-1158.1" font-family="Times,serif" font-size="14.00">DecisionStatus</text>
<text text-anchor="middle" x="1143.32" y="-1141.3" font-family="Times,serif" font-size="14.00">../src/SimpleEscrow.sol</text>
<polyline fill="none" stroke="black" points="1030.9,-1133.1 1255.73,-1133.1 "/>
<text text-anchor="start" x="1038.9" y="-1116.5" font-family="Times,serif" font-size="14.00">DEAL_IN_PROGRESS: 0</text>
<text text-anchor="start" x="1038.9" y="-1099.7" font-family="Times,serif" font-size="14.00">REFUNDED: 1</text>
<text text-anchor="start" x="1038.9" y="-1082.9" font-family="Times,serif" font-size="14.00">PENDING_ARBITRATOR: 2</text>
<text text-anchor="start" x="1038.9" y="-1066.1" font-family="Times,serif" font-size="14.00">CLOSED_WITHOUT_ISSUE: 3</text>
<text text-anchor="start" x="1038.9" y="-1049.3" font-family="Times,serif" font-size="14.00">CLOSED_WITH_ARBITRATOR: 4</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge7" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1156.35,-528.56C1149.66,-700.8 1143.3,-914.75 1141.86,-1030.81"/>
<polygon fill="black" stroke="black" points="1138.36,-1031 1141.74,-1041.04 1145.36,-1031.08 1138.36,-1031"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="black" points="1180.08,-887.3 1180.08,-1004.1 1360.55,-1004.1 1360.55,-887.3 1180.08,-887.3"/>
<text text-anchor="middle" x="1270.32" y="-987.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="1270.32" y="-970.7" font-family="Times,serif" font-size="14.00">Decision</text>
<text text-anchor="middle" x="1270.32" y="-953.9" font-family="Times,serif" font-size="14.00">../src/SimpleEscrow.sol</text>
<polyline fill="none" stroke="black" points="1180.08,-945.7 1360.55,-945.7 "/>
<text text-anchor="start" x="1188.08" y="-929.1" font-family="Times,serif" font-size="14.00">dealDecision: DecisionStatus</text>
<text text-anchor="start" x="1188.08" y="-912.3" font-family="Times,serif" font-size="14.00">award: uint256</text>
<text text-anchor="start" x="1188.08" y="-895.5" font-family="Times,serif" font-size="14.00">comments: bytes32</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge6" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1169.41,-528.5C1176.13,-630.5 1190.55,-747.41 1218.32,-850.8 1220.73,-859.8 1223.94,-869.01 1227.59,-877.98"/>
<polygon fill="black" stroke="black" points="1224.39,-879.4 1231.54,-887.22 1230.83,-876.65 1224.39,-879.4"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="black" points="1235.98,-582.3 1235.98,-833.5 1464.66,-833.5 1464.66,-582.3 1235.98,-582.3"/>
<text text-anchor="middle" x="1350.32" y="-816.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="1350.32" y="-800.1" font-family="Times,serif" font-size="14.00">DealDetails</text>
<text text-anchor="middle" x="1350.32" y="-783.3" font-family="Times,serif" font-size="14.00">../src/SimpleEscrow.sol</text>
<polyline fill="none" stroke="black" points="1235.98,-775.1 1464.66,-775.1 "/>
<text text-anchor="start" x="1243.98" y="-758.5" font-family="Times,serif" font-size="14.00">uniqueId: uint256</text>
<text text-anchor="start" x="1243.98" y="-741.7" font-family="Times,serif" font-size="14.00">buyerWallet: address</text>
<text text-anchor="start" x="1243.98" y="-724.9" font-family="Times,serif" font-size="14.00">sellerWallet: address</text>
<text text-anchor="start" x="1243.98" y="-708.1" font-family="Times,serif" font-size="14.00">dealAmount: uint256</text>
<text text-anchor="start" x="1243.98" y="-691.3" font-family="Times,serif" font-size="14.00">termsAndConditionsHash: bytes32</text>
<text text-anchor="start" x="1243.98" y="-674.5" font-family="Times,serif" font-size="14.00">communicationChannelDetails: string</text>
<text text-anchor="start" x="1243.98" y="-657.7" font-family="Times,serif" font-size="14.00">arbitratorAddress: address</text>
<text text-anchor="start" x="1243.98" y="-640.9" font-family="Times,serif" font-size="14.00">Decision: Decision</text>
<text text-anchor="start" x="1243.98" y="-624.1" font-family="Times,serif" font-size="14.00">arbitorCommision: uint256</text>
<text text-anchor="start" x="1243.98" y="-607.3" font-family="Times,serif" font-size="14.00">addedProtocolFee: uint256</text>
<text text-anchor="start" x="1243.98" y="-590.5" font-family="Times,serif" font-size="14.00">sellerCount: uint256</text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="black" d="M1271.39,-528.64C1277.61,-543.78 1283.77,-558.65 1289.73,-572.94"/>
<polygon fill="black" stroke="black" points="1286.53,-574.37 1293.62,-582.25 1292.99,-571.67 1286.53,-574.37"/>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M1149.78,-1041.04C1155.94,-930.24 1163.78,-715.9 1168.62,-540.58"/>
<polygon fill="black" stroke="black" points="1168.62,-540.56 1164.78,-534.45 1168.94,-528.56 1172.78,-534.67 1168.62,-540.56"/>
</g>
<!-- 3&#45;&gt;1 -->
<g id="edge2" class="edge">
<title>3&#45;&gt;1</title>
<path fill="none" stroke="black" d="M1249.18,-887.22C1244.26,-875.43 1239.57,-862.92 1236.32,-850.8 1209.63,-751.45 1195.28,-639.61 1187.13,-540.52"/>
<polygon fill="black" stroke="black" points="1187.13,-540.46 1182.66,-534.8 1186.17,-528.5 1190.64,-534.16 1187.13,-540.46"/>
</g>
<!-- 3&#45;&gt;2 -->
<g id="edge8" class="edge">
<title>3&#45;&gt;2</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1226.97,-1004.25C1220,-1013.49 1212.68,-1023.21 1205.39,-1032.9"/>
<polygon fill="black" stroke="black" points="1202.49,-1030.92 1199.27,-1041.02 1208.08,-1035.13 1202.49,-1030.92"/>
</g>
<!-- 4&#45;&gt;1 -->
<g id="edge3" class="edge">
<title>4&#45;&gt;1</title>
<path fill="none" stroke="black" d="M1305.91,-582.25C1300.57,-568.62 1294.94,-554.39 1289.14,-539.83"/>
<polygon fill="black" stroke="black" points="1289.12,-539.78 1283.18,-535.69 1284.66,-528.64 1290.6,-532.73 1289.12,-539.78"/>
</g>
<!-- 4&#45;&gt;3 -->
<g id="edge9" class="edge">
<title>4&#45;&gt;3</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1307.97,-833.7C1302.88,-848.73 1297.83,-863.6 1293.17,-877.34"/>
<polygon fill="black" stroke="black" points="1289.74,-876.54 1289.85,-887.14 1296.37,-878.79 1289.74,-876.54"/>
</g>
</g>
</svg>
